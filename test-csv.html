<!DOCTYPE html>
<html>
<head>
    <title>CSV Debug Test</title>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <h1>CSV Debug Test</h1>
    <div id="output"></div>
    
    <script>
        const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRcx1YPhoi6kUVe36T4T2162AhCdBwuVSX0ou2u-Vlicjf2So3VL3E2MDzrNYIbkgckP4n8p18_UOGP/pub?gid=0&single=true&output=csv';
        
        fetch(CSV_URL)
            .then(response => response.text())
            .then(csvText => {
                console.log('CSV első 1000 karakter:', csvText.substring(0, 1000));
                
                Papa.parse(csvText, {
                    header: true,
                    skipEmptyLines: true,
                    complete: (results) => {
                        console.log('Parse eredmény:', results);
                        console.log('Mezők:', results.meta.fields);
                        console.log('Első 3 sor:', results.data.slice(0, 3));
                        
                        document.getElementById('output').innerHTML = `
                            <h2>Mezők (${results.meta.fields.length}):</h2>
                            <pre>${JSON.stringify(results.meta.fields, null, 2)}</pre>
                            
                            <h2>Első játék:</h2>
                            <pre>${JSON.stringify(results.data[0], null, 2)}</pre>
                            
                            <h2>Összes sor: ${results.data.length}</h2>
                        `;
                    }
                });
            });
    </script>
</body>
</html>
