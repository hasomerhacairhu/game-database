/**
 * SCSS Mixins
 * Reusable style patterns
 */

@use './variables' as *;

/**
 * Vertical Button Layout
 * Used for buttons with icon above text
 */
@mixin vertical-button {
  :deep(.v-btn__content) {
    flex-direction: column;
    gap: $vertical-btn-gap;
  }
  
  height: auto !important;
  min-height: $vertical-btn-min-height;
  padding-top: $vertical-btn-padding;
  padding-bottom: $vertical-btn-padding;
}

/**
 * Pill-shaped button
 * Rounded edges for elegant appearance
 */
@mixin pill-button {
  border-radius: $border-radius-pill !important;
}

/**
 * Glassmorphism effect
 * Modern frosted glass appearance
 */
@mixin glassmorphism($blur: 10px, $opacity: 0.1) {
  backdrop-filter: blur($blur);
  background-color: rgba(255, 255, 255, $opacity);
}

/**
 * Text truncation with ellipsis
 */
@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/**
 * Multi-line truncation
 * @param {number} $lines - Number of lines before truncation
 */
@mixin line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/**
 * Smooth hover transition
 */
@mixin hover-lift($distance: -1px) {
  transition: transform $transition-base, box-shadow $transition-base;
  
  &:hover {
    transform: translateY($distance);
    box-shadow: $shadow-md;
  }
}

/**
 * Focus visible outline
 * Accessible focus indicator
 */
@mixin focus-outline($color: $primary-color) {
  &:focus-visible {
    outline: 2px solid $color;
    outline-offset: 2px;
  }
}

/**
 * Card elevation
 * @param {number} $level - Elevation level (1-5)
 */
@mixin elevation($level: 1) {
  @if $level == 1 {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  } @else if $level == 2 {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
  } @else if $level == 3 {
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  } @else if $level == 4 {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.18);
  } @else if $level == 5 {
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
  }
}

/**
 * Flexbox center alignment
 */
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/**
 * Absolute positioning to fill parent
 */
@mixin absolute-fill {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/**
 * Responsive font size
 * @param {number} $min - Minimum font size in px
 * @param {number} $max - Maximum font size in px
 * @param {number} $vw - Viewport width percentage for scaling
 */
@mixin fluid-font-size($min, $max, $vw: 2) {
  font-size: clamp(#{$min}px, #{$vw}vw, #{$max}px);
}

/**
 * Hide scrollbar but keep functionality
 */
@mixin hide-scrollbar {
  scrollbar-width: none; // Firefox
  -ms-overflow-style: none; // IE/Edge
  
  &::-webkit-scrollbar {
    display: none; // Chrome/Safari/Opera
  }
}

/**
 * Custom scrollbar styling
 */
@mixin custom-scrollbar($width: 8px, $track-color: #f1f1f1, $thumb-color: #888) {
  &::-webkit-scrollbar {
    width: $width;
  }
  
  &::-webkit-scrollbar-track {
    background: $track-color;
  }
  
  &::-webkit-scrollbar-thumb {
    background: $thumb-color;
    border-radius: $border-radius-sm;
    
    &:hover {
      background: darken($thumb-color, 10%);
    }
  }
}

/**
 * Animation keyframes for shake effect
 */
@mixin shake-animation {
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
    20%, 40%, 60%, 80% { transform: translateX(8px); }
  }
  
  animation: shake 0.6s ease-in-out;
}

/**
 * Gradient background
 * @param {color} $start - Start color
 * @param {color} $end - End color
 * @param {deg} $angle - Gradient angle
 */
@mixin gradient-bg($start, $end, $angle: 135deg) {
  background: linear-gradient($angle, $start, $end);
}

/**
 * Aspect ratio box
 * @param {number} $width - Width ratio
 * @param {number} $height - Height ratio
 */
@mixin aspect-ratio($width: 16, $height: 9) {
  position: relative;
  
  &::before {
    content: '';
    display: block;
    padding-top: percentage($height / $width);
  }
  
  > * {
    @include absolute-fill;
  }
}
